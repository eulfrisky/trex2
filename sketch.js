var trex, trex_running, edges, moreu;
var groundImage;
var eu
var nuvens,nuvensImg
var asasino,ed,edu,eduzinho,edua,eduardo,eduarda
var estadojogo = 0
var grupasasino
var grupnuv
var gameover,restart,gameoverimg,restartimg
var dinheiro = 0
var banco = 0
var pulapula,morte,check
var DAQUINAOPASSA
function preload(){
myFont = loadFont ("game_over.ttf")
  trex_running = loadAnimation("trex1.png","trex3.png","trex4.png");
  groundImage = loadImage("ground2.png")
  nuvensImg = loadImage ("nuvem!!!!!!!.png")
  ed = loadImage ("obstacle1.png")
  edu = loadImage ("obstacle2.png")
  eduzinho = loadImage ("obstacle3.png")
  edua = loadImage ("obstacle4.png")
  eduardo = loadImage ("obstacle5.png")
  eduarda = loadImage ("obstacle6.png")
  moreu = loadAnimation ("trex_collided.png")
  gameoverimg = loadImage ("gameOver.png")
  restartimg = loadImage ("restart.png")
  pulapula = loadSound ("sons-trex-main/jump.mp3")
  morte = loadSound ("sons-trex-main/die.mp3")
  check = loadSound ("sons-trex-main/checkpoint.mp3")
  
}

function setup(){
  textFont (myFont)
  console.log ("E")
  createCanvas(windowWidth,windowHeight);
  grupasasino = createGroup ();
  grupnuv = createGroup ();
  //criando o trex
  trex = createSprite(50,160,20,50);
  trex.addAnimation("running", trex_running);
  trex.addAnimation ("morto", moreu);
  edges = createEdgeSprites();
  eu = createSprite (200,180,600,30)

  
  eu.addImage("estounervosa",groundImage)
  //adicione dimensão e posição ao trex
  trex.scale = 0.5;
  trex.x = 50
  trex.debug = true
  trex.setCollider ("circle",0,10,30)
  gameover = createSprite (230,100)
  restart = createSprite (230,120)
  restart.addImage ("recomeço",restartimg)  
  gameover.addImage ("acabou",gameoverimg)
  restart.scale = 0.4
  gameover.scale = 0.4
}


function draw(){
  //definir a cor do plano de fundo 
  background("white");
  textSize (36)
  text (banco,560,80)
  if (estadojogo == 0) {
    restart.visible = false
    gameover.visible = false
    banco = banco+1
    
      if (trex.y < 175) {
      trex.y = 175  
      }
      eu.velocityX = -(3+banco/100)
      if (eu.x<0){
        eu.x = eu.width/2
      }
     trex.y = World.mouseY
     
    if (frameCount%30 == 0){
    aiaiespinho();
    }

    if(touches.length > 0 || keyDown("space")&& trex.y>169){
      trex.velocityY = -11.5
      pulapula.play()
      touches = []
    }

    if (frameCount%50 == 0){
    gerarNuvens();
    }

    if (trex.isTouching (grupasasino)) {
    estadojogo = 1
     morte.play()
    }  
  }
  if (estadojogo == 1) {
    restart.visible = true
    gameover.visible = true
    eu.velocityX = 0
    grupasasino.setVelocityXEach (0)
    grupnuv.setVelocityXEach (0)
    grupasasino.setLifetimeEach (-1)
    grupnuv.setLifetimeEach (-1)
    trex.changeAnimation ("morto")
    if (mousePressedOver (restart)) {
    recomeca()
    }
  }
  
  

 
  trex.velocityY = trex.velocityY + 0.5;
  
 //impedir que o trex caia
  trex.collide(edges[3])
  drawSprites();
}


function gerarNuvens (){
var y = random (10,100)
nuvem = createSprite (windowWidth,y,30,10)
nuvem.velocityX = -(4+banco/100)
nuvem.addImage (nuvensImg)
trex.depth = nuvem.depth
nuvem.lifetime = 200
grupnuv.add (nuvem)
}
function aiaiespinho () {
var y8 = random (170,windowHeight)
asasino = createSprite (windowWidth,y8)
asasino.velocityX = -(3+banco/100)
asasino.scale = 0.5
asasino.lifetime = 450

var megasena = round (random (1,6));
switch (megasena){
case 1 : asasino.addImage (ed);
break;

case 2 :asasino.addImage (edu);
break;

case 3 : asasino.addImage (eduzinho);
break;

case 4 :asasino.addImage (edua);
break;

case 5 : asasino.addImage (eduardo);

case 6 : asasino.addImage (eduarda);
}
grupasasino.add (asasino)
}

function recomeca () {
console.log ("amog us")
grupasasino.destroyEach()
grupnuv.destroyEach()
estadojogo = 0
banco = 0
trex.changeAnimation ("running")
}
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































//nao falamos do bruno nao nao nao




















































//nao falamos do brunoooooooo















































//mas







































//iamos nos casar (iamos nos casar)
































































































//tudo estava pronto e nao havia uma nuvem no ceu (nada de nuvens no ceu)





































































//bruno chegou ja tocando o terror (trovao)

















































//ce quer assumir o meu papel











































//desculpa mi vida vai laaaaaaaaaaaaaaaaaaa













































//bruno diz que vai chover
//e adivinha





























































//e eu começo a me perder
//abuela pega a sombrinhaaaaaaa



































//ja começa a escurecer
//foi a perfeição mas desde então


























































//nao falamos do bruno nao nao nao

//nao falamos do brunooooooooooooooo









//ei
















































































//eu cresci com medo de escutalo gaguejando













































//poso até ouvir o som do bruno murmurando



















































//como um som de areia que nao para de escorrer














































//ch ch ch


















































//bruno com seu dom foi nos a s u s t a n d o















//toda a familia foi as poucos p i r a n d o









//com suas profecias tao dificeis de entender


































































































































































//da para entender











































//SER abismal




//vive no porao


//se chamado tal


//veras o apagao

//quando for dormir

//vai te consumir (Eeeeeeeeeee)






//nao falamos do bruno nao nao naooooooooo



//nao falamos do bruno (nao falamos do bruno)






































//falou seu peixe ira morrer e morreu






































//nao nao


































































//previu o meu barrigao e deu no que deu










































































//me disse seu cabelo vai cair e aconteceu
























































//nao vai fugir se a sorte te escolherrrrr




















//me      falou    que a  vida    ideal no momento viria pra mim


































//me falou seu poder vai crescer como as vinhas deste jardim































//hoje mariano vem ai






























//me falou que o homem para mim nao seria so meu

//seria de outra
//escuto a sua voz

















































































//NEM VEM














































//nao quero ouvir nem um piu


































//ouço a sua voz


//an bruno















































//sim sobre o bruno





































//eu tenho que entender quem é o bruno






























//ent me diga a verdade bruno




























































































































































































































//ISABELA SEU BOY CHEGOU (ta na mesa)

